<!--link rel="stylesheet" href="dygraph.css"-->
<html>
<head>
<!--script type="text/javascript" src="dygraph-combined.js"></script-->
<script type="text/javascript" src="dygraph.min.js"></script>
<link rel="icon" href="dashboard/images/favicon.png" type="image/png" />
<title>Energi Anv√§ndning</title>
</head>
<body>

<!--style>
#demodiv {
  width: 640px;
  height: 480px;
  display: inline-block;
  vertical-align: top;
}
#legend {
  display: inline-block;
  vertical-align: top;
}
</style-->

<h2 id="energy">Energy</h2>
<div id="graphdiv1" style="width:600px; height:300px;"></div>
<div id="legend"></div>
<script type="text/javascript">
function legendFormatter(data) {
  //console.log("AAAAAA");
  console.error(data);
  if (data.x == null) {
    // This happens when there's no selection and {legend: 'always'} is set.
    result = '<br>' + data.series.map(function(series) { return series.dashHTML + ' ' + series.labelHTML }).join('<br>');
    console.log(result);
    return result
  }

  var html = this.getLabels()[0] + ': ' + data.xHTML;
  data.series.forEach(function(series) {
    if (!series.isVisible) return;
    var labeledData = series.labelHTML + ': ' + series.yHTML;
    if (series.isHighlighted) {
      labeledData = '<b>' + labeledData + '</b>';
    }
    html += '<br>' + series.dashHTML + ' ' + labeledData;
  });
  console.log(html);
  return html;
}
</script>
<script type="text/javascript">

  g1 = new Dygraph(document.getElementById("graphdiv1"),
	"energy.csv",
	{
	 showRangeSelector:true,
         legend: 'always',
      legendFormatter: legendFormatter,
      errorBars: false
	});
</script>

</body>
</html>
